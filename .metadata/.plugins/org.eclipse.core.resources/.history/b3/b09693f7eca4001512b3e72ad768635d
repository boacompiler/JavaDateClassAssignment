import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class Main extends JApplet
{

	DateManager myDateManager;
	
	JPanel controlPanel;
	JPanel controlPanelDateEntry;
	JPanel controlPanelReturn;
	JPanel controlPanelMisc;
	JPanel controlPanelDifference;
	Label labelDescriptor;
	
	Button buttonValidate;
	Button buttonSetDate;
	Button buttonGetEuropean;
	Button buttonGetAmerican;
	Button buttonGetInternational;
	Button buttonLeapYear;
	Button buttonDayName;
	
	JTextField textBoxNewYear;
	JTextField textBoxNewMonth;
	JTextField textBoxNewDay;
	
	JTextField textBoxInitialYear;
	JTextField textBoxInitialMonth;
	JTextField textBoxInitialDay;
	JTextField textBoxFinalYear;
	JTextField textBoxFinalMonth;
	JTextField textBoxFinalDay; 
	                  
	public void init()
	{
		myDateManager = new DateManager(1994,11,4);//TODO which constructor, who knows?
		controlPanel = new JPanel();
		controlPanel.setLayout(new GridBagLayout());
		controlPanelDateEntry = new JPanel();
		controlPanelDateEntry.setLayout(new GridBagLayout());
		controlPanelReturn = new JPanel();
		controlPanelReturn.setLayout(new GridBagLayout());
		controlPanelMisc = new JPanel();
		controlPanelMisc.setLayout(new GridBagLayout());
		controlPanelDifference = new JPanel();
		controlPanelDifference.setLayout(new GridBagLayout());
		GridBagConstraints c = new GridBagConstraints();
		
		//Date group
		labelDescriptor = new Label("Year");
		c.fill = GridBagConstraints.WEST;
		c.gridx = 0;
		c.gridy = 0;
		controlPanelDateEntry.add(labelDescriptor, c);
		labelDescriptor = new Label("Month");
		c.fill = GridBagConstraints.WEST;
		c.gridx = 1;
		c.gridy = 0;
		controlPanelDateEntry.add(labelDescriptor, c);
		labelDescriptor = new Label("Day");
		c.fill = GridBagConstraints.WEST;
		c.gridx = 2;
		c.gridy = 0;
		controlPanelDateEntry.add(labelDescriptor, c);
		
		textBoxNewYear = new JTextField(4);
		c.fill = GridBagConstraints.WEST;
		c.gridx = 0;
		c.gridy = 1;
		controlPanelDateEntry.add(textBoxNewYear, c);
		textBoxNewMonth = new JTextField(2);
		c.fill = GridBagConstraints.WEST;
		c.gridx = 1;
		c.gridy = 1;
		controlPanelDateEntry.add(textBoxNewMonth, c);
		textBoxNewDay = new JTextField(2);
		c.fill = GridBagConstraints.WEST;
		c.gridx = 2;
		c.gridy = 1;
		controlPanelDateEntry.add(textBoxNewDay, c);
		
		buttonValidate = new Button("Check Valid");
		c.fill = GridBagConstraints.HORIZONTAL;
		c.gridx = 3;
		c.gridy = 1;
		buttonValidate.addActionListener(new ActionListener() {
	         public void actionPerformed(ActionEvent e) {
	        	 //TODO input validation
	        	 JOptionPane.showMessageDialog(null, myDateManager.validDate(Integer.valueOf(textBoxNewYear.getText()), Integer.valueOf(textBoxNewMonth.getText()), Integer.valueOf(textBoxNewDay.getText())));
	          }
	       });
		controlPanelDateEntry.add(buttonValidate, c);
		
		buttonSetDate = new Button("Set Date");
		c.fill = GridBagConstraints.HORIZONTAL;
		c.gridx = 4;
		c.gridy = 1;
		buttonSetDate.addActionListener(new ActionListener() {
	         public void actionPerformed(ActionEvent e) {
	        	//TODO try/catch
	        	 myDateManager.setYear(Integer.valueOf(textBoxNewYear.getText()));
	        	 myDateManager.setMonth(Integer.valueOf(textBoxNewMonth.getText()));
	        	 myDateManager.setDay(Integer.valueOf(textBoxNewDay.getText()));
	          }
	       });
		controlPanelDateEntry.add(buttonSetDate, c);
		
		//Return Date Group
		buttonGetEuropean = new Button("European");
		c.fill = GridBagConstraints.HORIZONTAL;
		c.gridx = 0;
		c.gridy = 0;
		buttonGetEuropean.addActionListener(new ActionListener() {
	         public void actionPerformed(ActionEvent e) {
	        	 JOptionPane.showMessageDialog(null, myDateManager.europeanString());
	          }
	       });
		controlPanelReturn.add(buttonGetEuropean, c);
		
		buttonGetAmerican = new Button("American");
		c.fill = GridBagConstraints.HORIZONTAL;
		c.gridx = 1;
		c.gridy = 0;
		buttonGetAmerican.addActionListener(new ActionListener() {
	         public void actionPerformed(ActionEvent e) {
	        	 //TODO add optional initials?
	        	 JOptionPane.showMessageDialog(null, myDateManager.americanString());
	          }
	       });
		controlPanelReturn.add(buttonGetAmerican, c);
		
		buttonGetInternational = new Button("International");
		c.fill = GridBagConstraints.HORIZONTAL;
		c.gridx = 2;
		c.gridy = 0;
		buttonGetInternational.addActionListener(new ActionListener() {
	         public void actionPerformed(ActionEvent e) {
	        	 JOptionPane.showMessageDialog(null, myDateManager.internationalString());
	          }
	       });
		controlPanelReturn.add(buttonGetInternational, c);
		
		//Misc Group
		buttonLeapYear = new Button("Check Leap Year");
		c.fill = GridBagConstraints.HORIZONTAL;
		c.gridx = 0;
		c.gridy = 0;
		buttonLeapYear.addActionListener(new ActionListener() {
	         public void actionPerformed(ActionEvent e) {
	        	 JOptionPane.showMessageDialog(null, myDateManager.leapYear(myDateManager.getYear()));
	          }
	       });
		controlPanelMisc.add(buttonLeapYear, c);
		
		buttonDayName = new Button("Check Week Day");
		c.fill = GridBagConstraints.HORIZONTAL;
		c.gridx = 1;
		c.gridy = 0;
		buttonDayName.addActionListener(new ActionListener() {
	         public void actionPerformed(ActionEvent e) {
	        	 JOptionPane.showMessageDialog(null, myDateManager.dayName(myDateManager));
	          }
	       });
		controlPanelMisc.add(buttonDayName, c);
		
		//Compare Group
		
		//Adding panels to main panel
		c.fill = GridBagConstraints.HORIZONTAL;
		c.gridx = 0;
		c.gridy = 0;
		controlPanelDateEntry.setBorder(BorderFactory.createTitledBorder("Date"));
		controlPanel.add(controlPanelDateEntry, c);
		c.fill = GridBagConstraints.HORIZONTAL;
		c.gridx = 0;
		c.gridy = 1;
		controlPanelReturn.setBorder(BorderFactory.createTitledBorder("Return Date As"));	
		controlPanel.add(controlPanelReturn, c);
		c.fill = GridBagConstraints.HORIZONTAL;
		c.gridx = 0;
		c.gridy = 2;
		controlPanelMisc.setBorder(BorderFactory.createTitledBorder("Miscellaneous"));	
		controlPanel.add(controlPanelMisc, c);
		c.fill = GridBagConstraints.HORIZONTAL;
		c.gridx = 0;
		c.gridy = 2;
		controlPanelDifference.setBorder(BorderFactory.createTitledBorder("Compare Difference"));	
		controlPanel.add(controlPanelDifference, c);
		controlPanel.setBorder(BorderFactory.createTitledBorder("TITLE"));
		add(controlPanel);
	}
	
}
